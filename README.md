# Лабораторные по курсу Системы Искусственного Интеллекта

# Система рекомендаций книг на основе метрик расстояния

## Описание проекта

Система для сравнения различных метрик расстояния и генерации персонализированных рекомендаций книг на основе пользовательских предпочтений. Поддерживает рекомендации как для одной книги, так и для нескольких понравившихся книг с различными стратегиями.

Структура проекта
```text
project/
├── BookDistance.py          # Основной класс с метриками расстояния
├── RecommendationSystem.py  # Система рекомендаций
├── DataBooks.csv           # Датасет с книгами
└── README.md               # Документация
```

# Метрики расстояния


## 1. Евклидово расстояние (Euclidean)
    Формула: √(Σ(x_i - y_i)²)

    Преимущества: Классическая метрика, хорошо для сферических кластеров

    Недостатки: Чувствительно к масштабу признаков

## 2. Манхэттенское расстояние (Manhattan)
    Формула: Σ|x_i - y_i|

    Преимущества: Устойчивее к выбросам

    Недостатки: Менее интуитивно в многомерных пространствах

## 3. Косинусное расстояние (Cosine)
    Формула: 1 - (x·y)/(||x||·||y||)

    Преимущества: Учитывает направление, а не величину

    Недостатки: Игнорирует абсолютные значения признаков

## 4. Взвешенное евклидово расстояние
    Формула: √(Σw_i(x_i - y_i)²)

    Преимущества: Учитывает важность признаков

    Недостатки: Требует domain knowledge для установки весов


# Стратегии рекомендаций для нескольких книг

## 1. Combined (Комбинированная) - Рекомендуемая
Как работает:
```
Двухэтапный подход:
1. Вычисляем среднее расстояние до всех понравившихся книг
2. Усиливаем рекомендации с общими признаками
```
Особенности:
Двухэтапный подход: сначала усреднение, потом усиление

Усиление за общие признаки:

Общий жанр: ×1.2

Общий автор: ×1.3

Множественные совпадения жанров: дополнительное усиление

Баланс: учитывает и общую схожесть, и конкретные предпочтения

Пример:
Если вам понравились "Мастер и Маргарита" (классика) и "1984" (антиутопия), система найдет книги, которые в среднем похожи на обе, и усилит те, что относятся к вашим любимым жанрам.

## 2. Average (Усреднение)
Как работает:
```python
# Простое усреднение схожестей со всеми понравившимися книгами
avg_similarity = total_similarity / len(liked_indices)
```
Особенности:
Простая математика: среднее арифметическое схожестей

Демократичный подход: все понравившиеся книги имеют равный вес

Консервативность: ищет "золотую середину"

Когда использовать:
Когда все понравившиеся книги равнозначны для вас

Когда хотите сбалансированные рекомендации без перекоса в конкретный жанр

Для пользователей, которые ценят разнообразие

Пример:
Понравились "Гарри Поттер" (фэнтези) и "Преступление и наказание" (классика) → система найдет книги, которые умеренно похожи на обе.

## 3. Union (Объединение)
Как работает:
```python
# Объединяем топы рекомендаций от каждой книги
# Берем максимальную схожесть для каждой книги
merged_scores[book_idx] = max(merged_scores.get(book_idx, 0), similarity)
```
Особенности:
"Лучшее из лучшего": объединяет топы от каждой книги

Агрессивный подход: книга считается похожей, если сильно похожа хотя бы на одну из понравившихся

Широкий охват: показывает разнообразные рекомендации

Когда использовать:
Когда у вас разнообразные вкусы

Когда хотите открыть для себя что-то новое

Для пользователей, которые любят экспериментировать

Пример:
Понравились "Маленький принц" (сказка) и "Дюна" (фантастика) → система покажет лучшие рекомендации из мира сказок И лучшие из мира фантастики.

## 4. Content Boost (Контент-усиление)
Как работает:
```python
# Двухэтапный отбор:
# 1. Широкий сет через усреднение (n_recommendations * 3 кандидатов)
# 2. Сильное усиление по общим признакам
```
Особенности:
Двухэтапный отбор: широкий сет → усиление

Акцент на общности: сильно усиливает книги с общими авторами/жанрами

Персонализация: выявляет ваши устойчивые предпочтения

Когда использовать:
Когда у вас четкие предпочтения по жанрам/авторам

Когда хотите углубиться в понравившееся направление

Для формирования "зоны комфорта"

Пример:
Если вам понравились 3 книги одного автора → система сильно усилит другие книги этого автора.
